let f=v=>{let o=0,r=0,e,d,u,l,t=Promise,s=()=>{o--,--r?a():l=u?.()},a=()=>{if(e&&o<v){o++;let i=e;e=e.e,i.p().then(n=>{i.i(n),s()},n=>{i.o(n),s()})}};return{add:i=>new t((n,P)=>{let m={p:i,i:n,o:P};e?d=d.e=m:d=e=m,r++,a()}),done:()=>r?l||(l=new t(i=>u=i)):t.resolve(),clear(){e=d=null,r=o},active:()=>o,size:()=>r}};export{f as newQueue};
